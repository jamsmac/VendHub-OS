# –û–¢–ß–Å–¢ –û –ü–†–û–í–ï–†–ö–ï –ü–õ–ê–ù–ê –ú–ò–ì–†–ê–¶–ò–ò v2

> **–î–∞—Ç–∞:** 03 —Ñ–µ–≤—Ä–∞–ª—è 2026
> **–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–π —Ñ–∞–π–ª:** MIGRATION_PLAN_v2.md
> **–°—Ç–∞—Ç—É—Å:** ‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–Ø

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò

### 1. –ù–ï–í–ï–†–ù–´–ô ORM

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í –ø–ª–∞–Ω–µ | –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ | –°—Ç–∞—Ç—É—Å |
|----------|---------|--------------|--------|
| **ORM** | Drizzle ORM | TypeORM | ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê |

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
```
/VendHub OS/vendhub-unified/apps/api/src/database/typeorm.config.ts
```

–ü–ª–∞–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—à–∏—Ä–Ω—ã–µ Drizzle —Å—Ö–µ–º—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ TypeORM ‚Üí Drizzle, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –Ω—É–∂–Ω—ã**, —Ç–∞–∫ –∫–∞–∫ VendHub OS —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TypeORM.

---

### 2. –ù–ï–í–ï–†–ù–ê–Ø –ë–ê–ó–ê –î–ê–ù–ù–´–•

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í –ø–ª–∞–Ω–µ | –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ | –°—Ç–∞—Ç—É—Å |
|----------|---------|--------------|--------|
| **Database** | MySQL 8 | PostgreSQL | ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê |

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –∏–∑ typeorm.config.ts:**
```typescript
export const dataSourceOptions: DataSourceOptions = {
  type: 'postgres',  // –ù–ï MySQL!
  host: process.env.DB_HOST || 'localhost',
  port: parseInt(process.env.DB_PORT || '5432', 10),  // PostgreSQL –ø–æ—Ä—Ç
  // ...
};
```

---

### 3. –û–¢–°–£–¢–°–¢–í–ò–ï tRPC

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í –ø–ª–∞–Ω–µ | –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ | –°—Ç–∞—Ç—É—Å |
|----------|---------|--------------|--------|
| **API** | tRPC | REST (NestJS) | ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê |

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:**
- `grep -r "trpc" VendHub OS/vendhub-unified/` ‚Üí **–ù–ï–¢ –†–ï–ó–£–õ–¨–¢–ê–¢–û–í**
- VendHub OS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π NestJS REST API

–ü–ª–∞–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ tRPC —Ä–æ—É—Ç–µ—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã** —Å —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ù–ï–°–û–û–¢–í–ï–¢–°–¢–í–ò–Ø

### 4. –ü—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏

–í DEEP_PROJECT_ANALYSIS.md —á—ë—Ç–∫–æ —É–∫–∞–∑–∞–Ω–æ:

| –ü—Ä–æ–µ–∫—Ç | ORM | Database |
|--------|-----|----------|
| **VHM** | Prisma 5 | PostgreSQL |
| **VHM24-repo** | TypeORM | PostgreSQL |
| **vhm24v2** | Drizzle | MySQL |
| **VendHub OS (vendhub-unified)** | TypeORM | PostgreSQL |

–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ v2 **–æ—à–∏–±–æ—á–Ω–æ** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–µ–∫ –∏–∑ **vhm24v2** (Drizzle + MySQL) –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å—Ç–µ–∫–∞ **VendHub OS** (TypeORM + PostgreSQL).

---

### 5. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ø–æ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

**–í –ø–ª–∞–Ω–µ (—Ä–∞–∑–¥–µ–ª 8):**
> "–ê–¥–∞–ø—Ç–∞—Ü–∏—è TypeORM ‚Üí Drizzle"

**–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏:**
–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞! VHM24-repo –∏ VendHub OS **–æ–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç TypeORM**. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å TypeORM ‚Üí TypeORM (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è ORM).

---

## ‚úÖ –ß–¢–û –í–ï–†–ù–û –í –ü–õ–ê–ù–ï

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –í –ø–ª–∞–Ω–µ | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|----------|---------|----------|
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π VHM24-repo | 56 | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ (56 –ø–∞–ø–æ–∫ –≤ /backend/src/modules) |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ entities VHM24-repo | 120 | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ (find -name "*.entity.ts" = 120) |
| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Turborepo | apps/ + packages/ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| –¢–∏–ø—ã —Ç–æ–≤–∞—Ä–æ–≤ (–ù–∞–ø–∏—Ç–∫–∏/–°–Ω–µ–∫–∏) | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç UI_UX_SPECIFICATION |
| 3-—É—Ä–æ–≤–Ω–µ–≤—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |
| –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω–∞ | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ | –ò–ö–ü–£, –ù–î–°, –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ |
| RBAC (8 —Ä–æ–ª–µ–π) | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞–Ω–∞–ª–∏–∑—É |
| –î–∏–∑–∞–π–Ω "Warm Brew" | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ | –ò–∑ vhm24v2 |

---

## üìä –†–ï–ê–õ–¨–ù–´–ô –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö

### VHM24-repo (–∏—Å—Ç–æ—á–Ω–∏–∫ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏)
```
Backend:    NestJS 10
Frontend:   Next.js 15
ORM:        TypeORM
Database:   PostgreSQL
Queue:      Bull 5
Real-time:  Socket.IO 4
```

### VendHub OS (—Ü–µ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
```
Monorepo:   Turborepo + pnpm
Backend:    NestJS (Express)
Frontend:   Next.js 15
ORM:        TypeORM (–ù–ï Drizzle!)
Database:   PostgreSQL (–ù–ï MySQL!)
API:        REST endpoints (–ù–ï tRPC!)
```

---

## üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ

### –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –ø–ª–∞–Ω–µ:

1. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ Drizzle —Å—Ö–µ–º—ã –Ω–∞ TypeORM entities**
   - –£–¥–∞–ª–∏—Ç—å: `mysqlTable`, `int('id')`, `varchar('name')` –∏ —Ç.–¥.
   - –î–æ–±–∞–≤–∏—Ç—å: `@Entity()`, `@Column()`, `@ManyToOne()` –∏ —Ç.–¥.

2. **–ó–∞–º–µ–Ω–∏—Ç—å MySQL –Ω–∞ PostgreSQL**
   - –ò–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
   - –û–±–Ω–æ–≤–∏—Ç—å Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

3. **–ó–∞–º–µ–Ω–∏—Ç—å tRPC —Ä–æ—É—Ç–µ—Ä—ã –Ω–∞ NestJS –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã**
   - –£–¥–∞–ª–∏—Ç—å: `createTRPCRouter`, `protectedProcedure`
   - –î–æ–±–∞–≤–∏—Ç—å: `@Controller()`, `@Get()`, `@Post()` –∏ —Ç.–¥.

4. **–£–¥–∞–ª–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–ê–¥–∞–ø—Ç–∞—Ü–∏—è TypeORM ‚Üí Drizzle"**
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞, –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç TypeORM

5. **–û–±–Ω–æ–≤–∏—Ç—å package.json –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   - –£–±—Ä–∞—Ç—å: drizzle-orm, drizzle-kit
   - –û—Å—Ç–∞–≤–∏—Ç—å: typeorm, pg

---

## üìÅ –ü–†–û–í–ï–†–ï–ù–ù–´–ï –§–ê–ô–õ–´

| –§–∞–π–ª | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|------|-----------|
| `/VendHub OS/vendhub-unified/apps/api/src/database/typeorm.config.ts` | ‚úÖ PostgreSQL + TypeORM |
| `/VendHub OS/vendhub-unified/apps/api/src/modules/` | ‚úÖ 37 –º–æ–¥—É–ª–µ–π (NestJS) |
| `/VHM24-repo/backend/src/modules/` | ‚úÖ 56 –º–æ–¥—É–ª–µ–π (NestJS) |
| `/VHM24-repo/backend/**/*.entity.ts` | ‚úÖ 120 —Ñ–∞–π–ª–æ–≤ |
| `/VendHub OS/DEEP_PROJECT_ANALYSIS.md` | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç TypeORM |
| `/VendHub OS/MVP_DEVELOPMENT_PLAN.md` | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç PostgreSQL |

---

## üéØ –í–´–í–û–î

**MIGRATION_PLAN_v2.md —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏** –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞ —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.

–ü–ª–∞–Ω –±—ã–ª –Ω–∞–ø–∏—Å–∞–Ω –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Drizzle + MySQL + tRPC, –∫–æ–≥–¥–∞ —Ä–µ–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ VendHub OS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TypeORM + PostgreSQL + REST.

**–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞–Ω–∞** —Å —É—á—ë—Ç–æ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞.

---

*–û—Ç—á—ë—Ç —Å–æ–∑–¥–∞–Ω: 03 —Ñ–µ–≤—Ä–∞–ª—è 2026*
*–ê–≤—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏: Claude*
