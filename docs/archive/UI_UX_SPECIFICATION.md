# UI/UX SPECIFICATION - VENDHUB UNIFIED PLATFORM

> **Версия:** 1.0
> **Дата:** 14 января 2026
> **Статус:** В обсуждении

---

## 1. АРХИТЕКТУРА ИНТЕРФЕЙСОВ

### 1.1 Четыре основных интерфейса

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        VENDHUB UNIFIED PLATFORM                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  🅰️ ADMIN DASHBOARD (Web)              🅱️ STAFF APP (Mobile + Web)          │
│  ─────────────────────────             ─────────────────────────            │
│  Платформа: Next.js 15 (Web)           Платформа: React Native + PWA       │
│  Для: Owner, Admin, Manager            Для: Operator, Technician,          │
│                                              Warehouse, Accountant          │
│  Функции:                              Функции:                             │
│  • Полный контроль системы             • Задачи и маршруты                  │
│  • Аналитика и отчёты                  • Фото-отчёты                        │
│  • Настройки и интеграции              • Инвентаризация                     │
│  • AI и автоматизация                  • Быстрые действия                   │
│  • Управление персоналом               • Offline режим                      │
│                                                                             │
│  🅲️ CLIENT APP (Mobile + TWA)          🅳️ INVESTOR PORTAL (Web)             │
│  ─────────────────────────             ─────────────────────────            │
│  Платформа: React Native + TWA         Платформа: Next.js 15 (Web)         │
│  Для: Покупатели                       Для: Инвесторы, Франчайзи           │
│                                                                             │
│  Функции:                              Функции:                             │
│  • Каталог и заказы                    • Dashboard доходов                  │
│  • Карта автоматов                     • ROI аналитика                      │
│  • Программа лояльности                • Портфель машин                     │
│  • Квесты и достижения                 • Отчёты и документы                 │
│  • История покупок                     • Дивиденды                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. ADMIN DASHBOARD - СТРУКТУРА НАВИГАЦИИ

### 2.1 Основная навигация (Sidebar)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  ADMIN DASHBOARD - NAVIGATION STRUCTURE                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  📊 ОБЗОР                                                                   │
│  ├── Dashboard                    # KPI виджеты, графики, уведомления       │
│  ├── Аналитика                    # Продажи, тренды, сравнения              │
│  ├── Карта                        # Real-time карта автоматов               │
│  └── Мониторинг                   # Состояние системы, алерты               │
│                                                                             │
│  🏭 АВТОМАТЫ                                                                │
│  ├── Список автоматов             # Все машины с фильтрами                  │
│  │   ├── Coffee machines          # Кофейные автоматы                       │
│  │   └── Snack machines           # Снековые автоматы                       │
│  ├── Оборудование                 # Учёт ОС (упрощённый)                    │
│  ├── Запчасти                     # Справочник запчастей                    │
│  ├── Слоты и планограммы          # Расположение товаров в машине           │
│  ├── Бункеры и миксеры            # Для кофейных машин                      │
│  └── Техобслуживание              # Графики ТО, история                     │
│                                                                             │
│  📦 ТОВАРЫ И НОМЕНКЛАТУРА                                                   │
│  ├── Каталог товаров              # Все товары                              │
│  │   ├── 🍵 Напитки               # С рецептурой, себестоимость = сумма     │
│  │   └── 🍫 Снеки                 # Перепродажа, закупка + наценка          │
│  ├── Ингредиенты                  # Для напитков                            │
│  ├── Рецептуры                    # Состав напитков                         │
│  ├── Ценообразование              # Управление ценами и наценками           │
│  └── Импорт/Экспорт               # Excel, CSV                              │
│                                                                             │
│  📚 СПРАВОЧНИКИ                                                             │
│  ├── Категории товаров            # GoodsClassifier                         │
│  ├── Коды ИКПУ                    # Налоговая классификация                 │
│  ├── Типы упаковки                # GoodsPackage                            │
│  ├── Штрих-коды                   # GoodsBarCode                            │
│  ├── Ставки НДС                   # GoodsVatPercent                         │
│  ├── Маркировка                   # Честный знак                            │
│  ├── Единицы измерения            # шт, кг, л, мл, г                        │
│  ├── Поставщики                   # Контрагенты-поставщики                  │
│  └── Локации                      # Адреса, регионы                         │
│                                                                             │
│  📦 СКЛАД И ЛОГИСТИКА                                                       │
│  ├── Остатки                      # 3 уровня: Склад → Оператор → Машина     │
│  ├── Приёмка товара               # От поставщиков                          │
│  ├── Выдача операторам            # Перемещение на оператора                │
│  ├── Инвентаризация               # Сверка остатков                         │
│  ├── Прогнозирование              # Когда закончится (AI)                   │
│  └── Автозаказы                   # Автоматические заявки поставщикам       │
│                                                                             │
│  ✅ ОПЕРАЦИИ                                                                │
│  ├── Задачи                       # Kanban / список задач                   │
│  ├── Расписание                   # Планировщик задач                       │
│  ├── Маршруты                     # Маршруты операторов                     │
│  ├── Инциденты                    # Поломки, проблемы                       │
│  ├── Жалобы клиентов              # QR-жалобы                               │
│  ├── Инкассация                   # Сбор наличных                           │
│  └── Фото-отчёты                  # Before/after фото                       │
│                                                                             │
│  💰 ФИНАНСЫ                                                                 │
│  ├── Транзакции                   # Все платежи                             │
│  ├── Сверка данных                # Reconciliation                          │
│  ├── Комиссии                     # Расчёт комиссий                         │
│  ├── Договоры                     # Документы                               │
│  ├── Контрагенты                  # Поставщики, партнёры                    │
│  ├── Себестоимость                # Анализ маржинальности                   │
│  └── Отчёты                       # PDF, Excel генерация                    │
│                                                                             │
│  👥 КЛИЕНТЫ И ЛОЯЛЬНОСТЬ                                                    │
│  ├── Клиенты                      # База клиентов                           │
│  ├── Заказы                       # История заказов                         │
│  ├── Программа лояльности         # Уровни, баллы, streaks                  │
│  ├── Квесты и достижения          # Геймификация                            │
│  ├── Промокоды                    # Акции и скидки                          │
│  ├── Бонусы                       # По товарам/автоматам                    │
│  └── Рекомендации                 # AI-рекомендации                         │
│                                                                             │
│  💳 ИНТЕГРАЦИИ                                                              │
│  ├── Платёжные системы            # Payme, Click, Uzum, TG Stars            │
│  │   ├── Настройки подключения    # API keys, webhooks                      │
│  │   ├── Статус интеграций        # Активные/неактивные                     │
│  │   └── + Добавить систему       # Мастер подключения                      │
│  ├── Фискализация                 # MultiKassa, Честный знак                │
│  ├── Внешние API                  # Подключённые системы                    │
│  │   ├── Список интеграций        # Активные подключения                    │
│  │   ├── API Keys & Webhooks      # Управление ключами                      │
│  │   ├── Логи запросов            # История API вызовов                     │
│  │   └── + Добавить API           # Конструктор интеграций                  │
│  ├── Вендинговые протоколы        # MDB/DEX, Telemetry                      │
│  └── CRM / ERP                    # 1C, Битрикс24 и др.                     │
│                                                                             │
│  🤖 AI И АВТОМАТИЗАЦИЯ                                                      │
│  ├── AI Ассистент                 # Чат с ИИ                                │
│  ├── AI Агенты                    # Автономные агенты                       │
│  │   ├── Список агентов           # Настроенные агенты                      │
│  │   ├── Выполняемые задачи       # Текущие задачи агентов                  │
│  │   ├── Логи и результаты        # История выполнения                      │
│  │   └── + Создать агента         # Конструктор агентов                     │
│  ├── Промпты и скиллы             # Библиотека промптов                     │
│  ├── AI Провайдеры                # OpenAI, Claude, Gemini, Local           │
│  ├── Автоматизации                # Триггеры и цепочки                      │
│  ├── AI Импорт                    # Умный импорт файлов                     │
│  │   ├── Загрузка файлов          # Drag & Drop                             │
│  │   ├── История импортов         # Все загрузки                            │
│  │   ├── Шаблоны                  # Сохранённые маппинги                    │
│  │   └── Обучение                 # Feedback и улучшение                    │
│  └── AI Аналитика                 # Предиктивная аналитика                  │
│                                                                             │
│  🔔 КОММУНИКАЦИИ                                                            │
│  ├── Центр уведомлений            # Все уведомления                         │
│  ├── Telegram                     # Настройки бота                          │
│  ├── Email                        # Рассылки                                │
│  ├── Push-уведомления             # Web Push (VAPID)                        │
│  ├── SMS                          # Eskiz, PlayMobile                       │
│  └── Шаблоны сообщений            # Редактор шаблонов                       │
│                                                                             │
│  ⚙️ АДМИНИСТРИРОВАНИЕ                                                       │
│  ├── Пользователи                 # Управление пользователями               │
│  ├── Роли и права                 # RBAC настройка                          │
│  ├── Организации                  # Multi-tenant                            │
│  ├── Аудит                        # Логи действий                           │
│  ├── Безопасность                 # 2FA, сессии                             │
│  ├── Резервные копии              # Backup/restore                          │
│  └── Настройки                    # Системные настройки                     │
│                                                                             │
│  ────────────────────────────────────────────────────────────────────────── │
│                                                                             │
│  📈 ИНВЕСТОР / ФРАНЧАЙЗИ          # Отдельный портал (ссылка)               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. КАРТОЧКА ТОВАРА

### 3.1 Товар типа "Напиток" (с рецептурой)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  КАРТОЧКА ТОВАРА: Americano                                    [Напиток]   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────┐  📋 ОСНОВНАЯ ИНФОРМАЦИЯ                                       │
│  │  [IMG]  │  ─────────────────────────                                    │
│  │         │  ID: 381                                                       │
│  │ 🍵      │  Наименование: Americano                                       │
│  │         │  Вкусовое название: Американо с сахаром                        │
│  └─────────┘  Категория: Напитки                                           │
│               Тип товара: 🍵 Напиток (с рецептурой)                        │
│               Статус: ✅ Активен                                            │
│                                                                             │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  💰 ЦЕНООБРАЗОВАНИЕ                                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                                                                      │   │
│  │  Себестоимость (из рецептуры):     1,011 сум                       │   │
│  │  Розничная цена:                   20,000 сум                      │   │
│  │  ─────────────────────────────────────────────                      │   │
│  │  Наценка:                          18,989 сум (1,878%)             │   │
│  │  Маржинальность:                   94.9%                           │   │
│  │                                                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  📝 РЕЦЕПТУРА                                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Ингредиент          │ Кол-во  │ Ед.  │ Цена/ед  │ Стоимость      │   │
│  │  ────────────────────┼─────────┼──────┼──────────┼────────────────│   │
│  │  Кофе зерновой       │ 18      │ г    │ 600/кг   │ 10.80 сум      │   │
│  │  Вода очищенная      │ 200     │ мл   │ 0.5/л    │ 0.10 сум       │   │
│  │  Сахар белый         │ 10      │ г    │ 15/кг    │ 0.15 сум       │   │
│  │  Стакан 200мл        │ 1       │ шт   │ 800      │ 800.00 сум     │   │
│  │  Крышка              │ 1       │ шт   │ 200      │ 200.00 сум     │   │
│  │  ────────────────────┴─────────┴──────┴──────────┴────────────────│   │
│  │  ИТОГО СЕБЕСТОИМОСТЬ:                             1,011.05 сум    │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  🏷️ СПРАВОЧНИКИ                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Код ИКПУ:        10.32.51.00 (Напитки безалкогольные)             │   │
│  │  Штрих-код:       4780012345678                                     │   │
│  │  Упаковка:        CUP (стакан)                                      │   │
│  │  НДС:             12%                                               │   │
│  │  Маркировка:      Не требуется                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  📊 СТАТИСТИКА (за 30 дней)                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Продано:         1,245 шт                                          │   │
│  │  Выручка:         24,900,000 сум                                    │   │
│  │  Прибыль:         23,641,305 сум                                    │   │
│  │  Средний чек:     20,000 сум                                        │   │
│  │  [График продаж по дням]                                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ⚙️ ДЕЙСТВИЯ                                                               │
│  [✏️ Редактировать] [📋 Копировать] [📊 Аналитика] [🗑️ Удалить]           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 Товар типа "Снек" (перепродажа)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  КАРТОЧКА ТОВАРА: Snickers 50g                                   [Снек]    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────┐  📋 ОСНОВНАЯ ИНФОРМАЦИЯ                                       │
│  │  [IMG]  │  ─────────────────────────                                    │
│  │         │  ID: 502                                                       │
│  │ 🍫      │  Наименование: Snickers 50g                                    │
│  │         │  Категория: Снеки / Шоколадные батончики                       │
│  └─────────┘  Тип товара: 🍫 Снек (перепродажа)                            │
│               Поставщик: ООО "СладкоОпт"                                   │
│               Статус: ✅ Активен                                            │
│                                                                             │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  💰 ЦЕНООБРАЗОВАНИЕ                                                         │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                                                                      │   │
│  │  Закупочная цена:                  8,000 сум                       │   │
│  │  Наценка:                          50% (4,000 сум)                 │   │
│  │  ─────────────────────────────────────────────                      │   │
│  │  Розничная цена:                   12,000 сум                      │   │
│  │  Маржинальность:                   33.3%                           │   │
│  │                                                                      │   │
│  │  💡 Автоматический расчёт:                                         │   │
│  │  [Наценка %] [50] → Розничная: 12,000 сум                         │   │
│  │  [Розничная] [12000] → Наценка: 50%                               │   │
│  │                                                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  📦 ЛОГИСТИКА                                                               │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Минимальный заказ:    100 шт                                       │   │
│  │  Срок годности:        12 месяцев                                   │   │
│  │  Условия хранения:     +5...+25°C                                   │   │
│  │  Вес нетто:            50 г                                         │   │
│  │  Размер (ДxШxВ):       12 x 3 x 2 см                               │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  🏷️ СПРАВОЧНИКИ                                                            │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Код ИКПУ:        10.82.21.00 (Кондитерские изделия)               │   │
│  │  Штрих-код:       5000159461122                                     │   │
│  │  Упаковка:        PKG (упаковка)                                    │   │
│  │  НДС:             12%                                               │   │
│  │  Маркировка:      ✅ Требуется (Честный знак)                       │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  🎁 БОНУСЫ И АКЦИИ                                                          │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Автомат #15:     -10% (специальная цена)                          │   │
│  │  Промокод SWEET:  -500 сум                                          │   │
│  │  Лояльность Gold: +2x баллы                                         │   │
│  │  [+ Добавить акцию]                                                 │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  📊 СТАТИСТИКА (за 30 дней)                                                │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  Продано:         856 шт                                            │   │
│  │  Выручка:         10,272,000 сум                                    │   │
│  │  Прибыль:         3,424,000 сум                                     │   │
│  │  [График продаж по дням]                                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 4. AI IMPORT & LEARNING MODULE

### 4.1 Принцип работы

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    ПРИНЦИП ПОСТЕПЕННОГО ФОРМИРОВАНИЯ БД                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  📁 ФАЙЛ → 🤖 AI РАСПОЗНАВАНИЕ → 📊 ИЕРАРХИЧЕСКОЕ ЗАПОЛНЕНИЕ БД            │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  УРОВЕНЬ 0: СИСТЕМНЫЕ (seed)                                        │   │
│  │  Единицы измерения, валюты, статусы, типы операций                  │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ↓                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  УРОВЕНЬ 1: СПРАВОЧНИКИ (импорт/ввод)                               │   │
│  │  Категории, ИКПУ, упаковки, НДС, поставщики, локации                │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ↓                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  УРОВЕНЬ 2: ОСНОВНЫЕ СУЩНОСТИ                                       │   │
│  │  Товары (напитки/снеки), ингредиенты, оборудование, запчасти        │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ↓                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  УРОВЕНЬ 3: СТРУКТУРНЫЕ                                             │   │
│  │  Автоматы, склады, рецептуры, прайс-листы, бункеры, слоты           │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ↓                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  УРОВЕНЬ 4: ОПЕРАЦИОННЫЕ                                            │   │
│  │  Продажи, закупки, остатки, перемещения, платежи, задачи            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                              ↓                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  УРОВЕНЬ 5: АНАЛИТИКА                                               │   │
│  │  Сверка, отчёты, KPI, прогнозы                                      │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 Поддерживаемые форматы файлов

| Формат | Расширения | Описание |
|--------|------------|----------|
| Excel | .xlsx, .xls | Основной формат для импорта |
| CSV | .csv | С авто-определением разделителя |
| JSON | .json | Структурированные данные |
| XML | .xml | Выгрузки из 1C и других систем |
| PDF | .pdf | Распознавание таблиц (OCR) - настраиваемо |
| Изображения | .jpg, .png | OCR накладных - настраиваемо |
| 1C | .xml, .mxl | Специальные выгрузки |
| Банк | .txt, .dbf | Банковские выписки |

### 4.3 Типы импортируемых данных

| Тип | Описание | Источники |
|-----|----------|-----------|
| **Продажи** | Отчёты по продажам | HW Export, VendHub, Фискальные |
| **Платежи** | Транзакции | Payme, Click, Uzum, Наличные |
| **Закупки** | Приходные документы | Накладные, счета-фактуры |
| **Инвентаризация** | Остатки | Ведомости, акты |
| **Товары** | Номенклатура | Прайс-листы, каталоги |
| **Ингредиенты** | Сырьё | Справочники, накладные |
| **Оборудование** | Основные средства | Карточки ОС, акты |
| **Запчасти** | Запасные части | Каталоги, заявки |

### 4.4 AI Агенты импорта

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          AI AGENTS FOR IMPORT                               │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  📄 Document Classification Agent                                           │
│  ─────────────────────────────────                                         │
│  • Автоматическое определение типа документа                               │
│  • Confidence scoring (0-100%)                                              │
│  • Предложение альтернативных типов                                        │
│                                                                             │
│  🗂️ Schema Mapping Agent                                                    │
│  ─────────────────────────                                                 │
│  • Pattern matching по названиям колонок                                   │
│  • Data type inference                                                      │
│  • Обучение на истории успешных импортов                                   │
│                                                                             │
│  🔍 Data Extraction Agent                                                   │
│  ─────────────────────────                                                 │
│  • Извлечение из сложных структур                                          │
│  • Многолистовые Excel                                                      │
│  • Обнаружение заголовков и блоков данных                                  │
│                                                                             │
│  ✅ Validation Agent                                                        │
│  ───────────────────                                                       │
│  • Проверка обязательных полей                                             │
│  • Проверка форматов                                                        │
│  • Бизнес-правила (цена > себестоимость и т.д.)                           │
│                                                                             │
│  🔗 Reference Resolution Agent                                              │
│  ──────────────────────────────                                            │
│  • Fuzzy matching ("Snickers" ≈ "Сникерс")                                 │
│  • Создание новых записей в справочниках                                   │
│  • Обработка дубликатов                                                     │
│                                                                             │
│  📊 Reconciliation Agent                                                    │
│  ────────────────────────                                                  │
│  • Сверка с существующими данными                                          │
│  • Multi-source reconciliation                                              │
│  • Отчёт о расхождениях                                                     │
│                                                                             │
│  🎓 Learning Agent                                                          │
│  ─────────────────                                                         │
│  • Feedback loop                                                            │
│  • Улучшение маппингов                                                      │
│  • Сохранение шаблонов                                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 4.5 Учёт основных средств (упрощённый)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    УЧЁТ ОБОРУДОВАНИЯ (УПРОЩЁННЫЙ)                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  📋 КАРТОЧКА ОБОРУДОВАНИЯ                                                   │
│  ─────────────────────────                                                 │
│  • Инвентарный номер                                                        │
│  • Наименование                                                             │
│  • Тип (автомат, холодильник, и т.д.)                                      │
│  • Модель / Серийный номер                                                  │
│  • Дата приобретения                                                        │
│  • Первоначальная стоимость                                                 │
│  • Текущий статус (в эксплуатации, на ремонте, списан)                     │
│  • Местоположение                                                           │
│  • Ответственное лицо                                                       │
│  • Фото                                                                     │
│                                                                             │
│  📝 УПРОЩЁННАЯ ИСТОРИЯ                                                      │
│  ──────────────────────                                                    │
│  • Дата ввода в эксплуатацию                                               │
│  • Перемещения (откуда → куда, дата)                                       │
│  • Ремонты (дата, описание, стоимость)                                     │
│  • Списание (дата, причина, акт)                                           │
│                                                                             │
│  ⚠️ БЕЗ АМОРТИЗАЦИИ (по запросу можно добавить позже)                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. ИНТЕГРАЦИИ

### 5.1 Платёжные системы (настраиваемые)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       ПЛАТЁЖНЫЕ СИСТЕМЫ                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  💳 ПОДКЛЮЧЁННЫЕ СИСТЕМЫ                                            │   │
│  │  ─────────────────────────                                          │   │
│  │                                                                      │   │
│  │  ✅ Payme.uz          Активен     [⚙️ Настройки] [📊 Статистика]   │   │
│  │  ✅ Click.uz          Активен     [⚙️ Настройки] [📊 Статистика]   │   │
│  │  ✅ Uzum Bank         Активен     [⚙️ Настройки] [📊 Статистика]   │   │
│  │  ⚪ Telegram Stars    Неактивен   [🔌 Подключить]                   │   │
│  │  ✅ Наличные          Активен     [⚙️ Настройки]                    │   │
│  │                                                                      │   │
│  │  [+ Добавить платёжную систему]                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ⚙️ НАСТРОЙКИ ПЛАТЁЖНОЙ СИСТЕМЫ: Payme.uz                          │   │
│  │  ─────────────────────────────────────────                          │   │
│  │                                                                      │   │
│  │  Merchant ID:     [________________________]                        │   │
│  │  Secret Key:      [________________________] 👁️                     │   │
│  │  Webhook URL:     https://api.vendhub.uz/webhooks/payme             │   │
│  │  Test Mode:       [✓] Включён                                       │   │
│  │                                                                      │   │
│  │  Комиссия:        [1.5] %                                           │   │
│  │  Min сумма:       [1000] сум                                        │   │
│  │  Max сумма:       [50000000] сум                                    │   │
│  │                                                                      │   │
│  │  [💾 Сохранить] [🔄 Проверить подключение]                         │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 AI Провайдеры (настраиваемые)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         AI ПРОВАЙДЕРЫ                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  🤖 ПОДКЛЮЧЁННЫЕ ПРОВАЙДЕРЫ                                         │   │
│  │  ──────────────────────────                                         │   │
│  │                                                                      │   │
│  │  ✅ OpenAI            GPT-4o         [⚙️ Настройки] [📊 Лимиты]    │   │
│  │  ✅ Anthropic         Claude 3.5     [⚙️ Настройки] [📊 Лимиты]    │   │
│  │  ⚪ Google            Gemini Pro     [🔌 Подключить]                │   │
│  │  ⚪ Local LLM         Ollama         [🔌 Настроить]                 │   │
│  │                                                                      │   │
│  │  [+ Добавить провайдера]                                            │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  ⚙️ НАСТРОЙКИ: OpenAI                                               │   │
│  │  ─────────────────────                                              │   │
│  │                                                                      │   │
│  │  API Key:         [sk-________________________] 👁️                  │   │
│  │  Модель:          [GPT-4o ▼]                                        │   │
│  │  Temperature:     [0.7] (0-2)                                       │   │
│  │  Max tokens:      [4096]                                            │   │
│  │                                                                      │   │
│  │  📊 ИСПОЛЬЗОВАНИЕ                                                   │   │
│  │  Сегодня:         12,450 tokens ($0.12)                            │   │
│  │  Этот месяц:      456,780 tokens ($4.57)                           │   │
│  │  Лимит:           [1000000] tokens/месяц                           │   │
│  │                                                                      │   │
│  │  🎯 ПРИМЕНЕНИЕ                                                      │   │
│  │  [✓] AI Ассистент                                                  │   │
│  │  [✓] Импорт файлов                                                 │   │
│  │  [✓] Аналитика                                                     │   │
│  │  [ ] Рекомендации клиентам                                         │   │
│  │                                                                      │   │
│  │  [💾 Сохранить] [🔄 Проверить]                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.3 Внешние API (конструктор)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                    ВНЕШНИЕ API - КОНСТРУКТОР                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │  🔌 СОЗДАНИЕ ИНТЕГРАЦИИ                                             │   │
│  │  ──────────────────────                                             │   │
│  │                                                                      │   │
│  │  Название:        [_______________________________]                 │   │
│  │  Описание:        [_______________________________]                 │   │
│  │  Тип:             [REST API ▼]                                      │   │
│  │                                                                      │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  ПОДКЛЮЧЕНИЕ                                                        │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  Base URL:        [https://api.example.com/v1]                     │   │
│  │  Auth Type:       [API Key ▼]                                       │   │
│  │  API Key Header:  [X-API-Key]                                       │   │
│  │  API Key:         [________________________] 👁️                     │   │
│  │                                                                      │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  ENDPOINTS                                                          │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  [+ Добавить endpoint]                                              │   │
│  │                                                                      │   │
│  │  GET  /products     → Получение списка товаров                     │   │
│  │  POST /orders       → Создание заказа                               │   │
│  │  GET  /orders/{id}  → Получение заказа                              │   │
│  │                                                                      │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  МАППИНГ ДАННЫХ                                                     │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  Их поле         →  Наше поле                                      │   │
│  │  productId       →  external_id                                     │   │
│  │  productName     →  name                                            │   │
│  │  price           →  amount                                          │   │
│  │  [+ Добавить маппинг]                                               │   │
│  │                                                                      │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  ТРИГГЕРЫ                                                           │   │
│  │  ─────────────────────────────────────────────────────────          │   │
│  │  [ ] При создании заказа → отправить в API                         │   │
│  │  [ ] По расписанию (CRON) → синхронизация                          │   │
│  │  [ ] Webhook входящий → обработка                                   │   │
│  │                                                                      │   │
│  │  [💾 Сохранить] [🔄 Тест] [▶️ Активировать]                        │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 6. ДИЗАЙН-СИСТЕМА "WARM BREW"

### 6.1 Цветовая палитра

```css
/* ===== LIGHT THEME ===== */

/* Primary - Эспрессо (основной цвет) */
--primary-espresso: oklch(0.35 0.06 50);     /* #5D4037 */
--primary-hover: oklch(0.30 0.06 50);
--primary-active: oklch(0.25 0.06 50);

/* Accent - Карамель */
--accent-caramel: oklch(0.75 0.12 70);       /* #D4A574 */
--accent-hover: oklch(0.70 0.12 70);

/* Success - Мята */
--success-mint: oklch(0.7 0.1 160);          /* #7CB69D */

/* Background - Кремовый */
--background-cream: oklch(0.98 0.008 85);    /* #FDF8F3 */
--background-card: oklch(1 0 0);             /* #FFFFFF */

/* Text - Шоколад */
--text-primary: oklch(0.2 0.04 50);          /* #2C1810 */
--text-secondary: oklch(0.45 0.03 50);
--text-muted: oklch(0.65 0.02 50);

/* Semantic */
--error: oklch(0.6 0.2 25);                  /* #EF4444 */
--warning: oklch(0.75 0.15 85);              /* #F59E0B */
--info: oklch(0.6 0.15 250);                 /* #3B82F6 */

/* ===== DARK THEME ===== */
--dark-background: oklch(0.12 0.01 250);
--dark-card: oklch(0.18 0.01 250);
--dark-text: oklch(0.95 0.01 250);
```

### 6.2 Типографика

```css
/* Display - для заголовков */
--font-display: 'Playfair Display', Georgia, serif;

/* Sans - основной текст */
--font-sans: 'DM Sans', system-ui, sans-serif;

/* Mono - код, числа */
--font-mono: 'JetBrains Mono', monospace;

/* Размеры */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
--text-3xl: 1.875rem;  /* 30px */
--text-4xl: 2.25rem;   /* 36px */
```

### 6.3 Компоненты

- **UI Framework:** shadcn/ui + Radix UI
- **Icons:** Lucide React
- **Charts:** Recharts 2
- **Animations:** Framer Motion 12
- **Maps:** Google Maps API

---

## 7. RESPONSIVE DESIGN

### 7.1 Breakpoints

```css
/* Mobile first */
--screen-sm: 640px;   /* Small phones */
--screen-md: 768px;   /* Tablets */
--screen-lg: 1024px;  /* Laptops */
--screen-xl: 1280px;  /* Desktops */
--screen-2xl: 1536px; /* Large screens */
```

### 7.2 Sidebar behavior

| Размер экрана | Sidebar |
|---------------|---------|
| < 768px | Скрыт, открывается по кнопке (Sheet) |
| 768px - 1024px | Collapsed (только иконки) |
| > 1024px | Expanded (полный) |

---

## 8. СЛЕДУЮЩИЕ ШАГИ

1. [ ] Утвердить структуру навигации
2. [ ] Создать wireframes ключевых экранов
3. [ ] Определить приоритет модулей для MVP
4. [ ] Разработать прототип в Figma
5. [ ] Начать реализацию

---

*Документ создан: 14 января 2026*
*Последнее обновление: 14 января 2026*
