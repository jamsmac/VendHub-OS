# ============================================================================
# VendHub OS Environment Variables
# Copy to .env and fill in your values
# ============================================================================

# ============================================================================
# GENERAL
# ============================================================================
NODE_ENV=development
# NODE_ENV=production
APP_NAME=VendHub
APP_URL=http://localhost:3000
API_URL=http://localhost:4000

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=vendhub
DB_USER=vendhub
DB_PASSWORD=vendhub_secret
DB_SYNCHRONIZE=false
DB_LOGGING=false
DB_POOL_SIZE=10
DB_SSL=false
# Set to 'false' only if using self-signed certs (not recommended in production)
DB_SSL_REJECT_UNAUTHORIZED=true
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ============================================================================
# REDIS
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# Generate with: openssl rand -base64 64
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long_here
JWT_REFRESH_SECRET=your_refresh_token_secret_key_here_also_32_chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================================
# 2FA (TOTP)
# ============================================================================
TOTP_ISSUER=VendHub
TOTP_ALGORITHM=sha1
TOTP_DIGITS=6
TOTP_PERIOD=30

# ============================================================================
# API SETTINGS
# ============================================================================
API_PORT=4000
API_PREFIX=api/v1
# Comma-separated list of allowed origins
# Production: https://vendhub.uz,https://admin.vendhub.uz,https://app.vendhub.uz
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# COOKIES
# ============================================================================
# Generate with: openssl rand -base64 32
COOKIE_SECRET=your_cookie_signing_secret_here
COOKIE_DOMAIN=
# Options: strict, lax, none (use 'none' only with COOKIE_SECURE=true for cross-site)
COOKIE_SAME_SITE=lax
COOKIE_SECURE=false
COOKIE_PATH=/

# ============================================================================
# WEB & CLIENT PORTS
# ============================================================================
WEB_PORT=3000
CLIENT_PORT=5173

# ============================================================================
# SWAGGER API DOCS
# ============================================================================
SWAGGER_ENABLED=true
SWAGGER_TITLE=VendHub API
SWAGGER_VERSION=1.0.0

# ============================================================================
# TELEGRAM BOT
# ============================================================================
# Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_WEBHOOK_URL=https://api.yourdomain.com/telegram-bot/webhook
# Secret token for validating webhook requests from Telegram
# Generate with: openssl rand -hex 32
TELEGRAM_WEBHOOK_SECRET=

# ============================================================================
# SMS PROVIDER (Uzbekistan)
# ============================================================================
# Supported: eskiz, playmobile, smsuz
SMS_PROVIDER=eskiz
SMS_API_KEY=
SMS_API_SECRET=
SMS_SENDER_ID=VendHub

# ============================================================================
# EMAIL (SMTP)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM="VendHub OS <noreply@vendhub.uz>"

# ============================================================================
# STORAGE (MinIO/S3)
# ============================================================================
STORAGE_ENDPOINT=localhost:9000
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=minioadmin
STORAGE_BUCKET=vendhub
STORAGE_REGION=uz-tashkent-1
STORAGE_USE_SSL=false
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# MinIO Console
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# ============================================================================
# PAYMENT INTEGRATIONS (Uzbekistan)
# ============================================================================

# Payme
PAYME_MERCHANT_ID=
PAYME_SECRET_KEY=
PAYME_TEST_MODE=true

# Click
CLICK_MERCHANT_ID=
CLICK_SERVICE_ID=
CLICK_SECRET_KEY=

# Uzum Bank
UZUM_MERCHANT_ID=
UZUM_SECRET_KEY=

# ============================================================================
# OFD / FISCAL INTEGRATION (Uzbekistan Tax)
# ============================================================================
OFD_ENABLED=false
OFD_PROVIDER=soliq
# OFD API URL: https://ofd.soliq.uz/api/v1
OFD_API_URL=
OFD_API_KEY=
OFD_INN=

# ============================================================================
# MAPS
# ============================================================================
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
YANDEX_MAPS_API_KEY=

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
SENTRY_DSN=
LOG_LEVEL=debug
LOG_FORMAT=combined

# ============================================================================
# DOCKER PROFILES
# ============================================================================
# Use 'dev' for development tools (adminer, redis-commander, bull-board)
# Use 'production' for nginx, certbot
# COMPOSE_PROFILES=dev

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================

# Slack notifications
SLACK_WEBHOOK_URL=

# WhatsApp Business API
WHATSAPP_API_URL=
WHATSAPP_ACCESS_TOKEN=

# Push notifications (Firebase)
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# ============================================================================
# AI INTEGRATION (OpenAI / Anthropic)
# ============================================================================
# For AI Import, Anomaly Detection, Smart Suggestions
AI_PROVIDER=openai
# AI_PROVIDER=anthropic

# OpenAI (GPT-4o for vision, GPT-4o-mini for text)
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic (Claude 3 Haiku for cost-effective processing)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_TELEGRAM_BOT=true
FEATURE_SMS_NOTIFICATIONS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_PUSH_NOTIFICATIONS=false
FEATURE_OFD_INTEGRATION=false
FEATURE_PAYMENT_INTEGRATION=true
FEATURE_AI_IMPORT=true
FEATURE_AI_ANALYSIS=true

# ============================================================================
# RATE LIMITING
# ============================================================================
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ============================================================================
# MULTI-TENANT
# ============================================================================
DEFAULT_ORGANIZATION_ID=default

# ============================================================================
# BACKUP (Optional)
# ============================================================================
BACKUP_ENABLED=false
BACKUP_CRON="0 2 * * *"
BACKUP_S3_BUCKET=vendhub-backups
BACKUP_RETENTION_DAYS=30
