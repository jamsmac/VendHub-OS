apiVersion: v1
kind: Secret
metadata:
  name: {{ include "vendhub.fullname" . }}-secrets
  labels:
    {{- include "vendhub.labels" . | nindent 4 }}
type: Opaque
stringData:
  # JWT
  JWT_SECRET: {{ .Values.secrets.jwtSecret | default (randAlphaNum 64) | quote }}
  JWT_REFRESH_SECRET: {{ .Values.secrets.jwtRefreshSecret | default (randAlphaNum 64) | quote }}

  # Telegram
  TELEGRAM_BOT_TOKEN: {{ .Values.secrets.telegramBotToken | quote }}

  # Payment Providers
  PAYME_MERCHANT_ID: {{ .Values.secrets.paymeMerchantId | quote }}
  PAYME_SECRET_KEY: {{ .Values.secrets.paymeSecretKey | quote }}
  CLICK_MERCHANT_ID: {{ .Values.secrets.clickMerchantId | quote }}
  CLICK_SERVICE_ID: {{ .Values.secrets.clickServiceId | quote }}
  CLICK_SECRET_KEY: {{ .Values.secrets.clickSecretKey | quote }}

  # External Services
  SENTRY_DSN: {{ .Values.secrets.sentryDsn | quote }}
  SMTP_HOST: {{ .Values.secrets.smtpHost | quote }}
  SMTP_USER: {{ .Values.secrets.smtpUser | quote }}
  SMTP_PASSWORD: {{ .Values.secrets.smtpPassword | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "vendhub.fullname" . }}-postgres-secret
  labels:
    {{- include "vendhub.labels" . | nindent 4 }}
type: Opaque
stringData:
  postgres-password: {{ randAlphaNum 32 | quote }}
  password: {{ randAlphaNum 32 | quote }}
---
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "vendhub.fullname" . }}-redis-secret
  labels:
    {{- include "vendhub.labels" . | nindent 4 }}
type: Opaque
stringData:
  redis-password: {{ randAlphaNum 32 | quote }}
